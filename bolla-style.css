:root {
    --bg: #070A12;
    --cyan: #7CF6FF;
    --border-glow: rgba(124, 246, 255, 0.4);
}

body {
    margin: 0; height: 100vh; display: flex; justify-content: center; align-items: center;
    background: radial-gradient(circle at center, #1a1f2c 0%, var(--bg) 100%);
    overflow: hidden; font-family: sans-serif;
}

.scene { position: relative; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; }

/* Contenitore fluttuante globale */
.bubble-container {
    position: relative; width: 550px; height: 550px;
    display: flex; justify-content: center; align-items: center;
    animation: globalFloat 8s ease-in-out infinite;
}

/* --- LA BOLLA CON MORPHING --- */
.bubble {
    width: 480px; height: 480px; position: relative;
    animation: morphing 10s ease-in-out infinite;
    background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.1), transparent 70%);
    border: 8px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 0 40px var(--border-glow), inset 0 0 60px var(--border-glow);
    backdrop-filter: blur(5px);
    z-index: 5; overflow: hidden; border-radius: 50%;
}

/* --- COCORITA IN ALTO (Capitana) --- */
.cocorita-top {
    position: absolute; top: -70px; left: 50%; transform: translateX(-50%);
    width: 140px; z-index: 20; text-decoration: none;
    display: flex; flex-direction: column; align-items: center;
}
.cocorita-top img { width: 100%; height: auto; filter: drop-shadow(0 10px 20px rgba(0,0,0,0.6)); transition: 0.3s; }
.cocorita-top:hover img { transform: scale(1.1) rotate(-5deg); filter: drop-shadow(0 0 30px var(--cyan)); }

/* --- OGGETTI DI SFONDO (Profondit√† - Non cliccabili) --- */
.bg-deco { position: absolute; opacity: 0.1; filter: blur(5px); pointer-events: none; z-index: 6; }
.bg-deco img { width: 80px; height: auto; }
.deco1 { top: 15%; left: 15%; }
.deco2 { bottom: 20%; right: 15%; }

/* --- ICONE CLICCABILI (Dimensioni Protette) --- */
.object { 
    position: absolute; z-index: 10; display: flex; flex-direction: column; align-items: center; text-decoration: none; 
}

/* Blindiamo le dimensioni massime per evitare la confusione dello screenshot */
.object img { 
    width: auto; height: auto;
    max-width: 100px; max-height: 120px; /* Limite critico */
    object-fit: contain; 
    filter: drop-shadow(0 5px 15px rgba(0,0,0,0.4)); 
    transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
}

/* Differenziazione taglie (XL per Baldassarre, SM per Arte Visiva) */
.obj-xl img { max-width: 130px; max-height: 150px; }
.obj-sm img { max-width: 70px; max-height: 80px; }

/* Posizionamento Strategico (Evita sovrapposizioni) */
.pos-1 { top: 15%; right: 20%; }
.pos-2 { top: 35%; left: 10%; }
.pos-3 { bottom: 25%; right: 10%; }
.pos-4 { bottom: 8%; left: 50%; transform: translateX(-50%); }
.pos-5 { bottom: 35%; left: 30%; }

.object:hover img { transform: scale(1.15); filter: drop-shadow(0 0 25px var(--cyan)) brightness(1.2); }
.object:hover { z-index: 100; }

.object::after {
    content: attr(data-label); color: var(--cyan); font-size: 10px; font-weight: bold;
    text-transform: uppercase; opacity: 0; transition: 0.3s; margin-top: 5px;
    text-shadow: 0 0 8px black;
}
.object:hover::after { opacity: 1; }

/* --- ANIMAZIONI --- */
@keyframes morphing {
    0%, 100% { border-radius: 50% 50% 50% 50% / 50% 50% 50% 50%; }
    33% { border-radius: 45% 55% 48% 52% / 52% 48% 55% 45%; }
    66% { border-radius: 52% 48% 55% 45% / 45% 55% 48% 52%; }
}

@keyframes globalFloat {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-30px) rotate(1deg); }
}

.bubble-shadow {
    position: absolute; bottom: -80px; width: 300px; height: 30px;
    background: rgba(0,0,0,0.5); filter: blur(25px); border-radius: 50%;
}
